<!DOCTYPE html>
<html>
  <head>
    <title>Serial Port Example</title>
    <style>

      svg {
        border: 1px solid black;
        width: 800px;
        height: 800px;
      }
      .transition:hover{
        stroke:green;
      }
      .state-circle {
        fill: lightblue;
        stroke: black;
        stroke-width: 2;
      }
      .state-label {
        font-family: Arial, sans-serif;
        font-size: 14px;
        text-anchor: middle;
      }
      .condition-label {
        font-family: Arial, sans-serif;
        font-size: 14px;
        text-anchor: middle;
      }
      .transition-edge {
        fill: none;
        stroke: black;
        stroke-width: 2px;
        marker-end: url(#arrowhead);
      }
      .is-inital{
        stroke:red;
      }
      #message-windows{
        height: 600px; 
        width:600px;
      }
 
    </style>
  </head>
  <body>
    <button id="connectButton">Connect to Serial Port</button>
    <script src="software/tools/serial.js"></script>

    <div>
      <svg>
        <defs>
          <marker
            id="arrowhead"
            markerWidth="10"
            markerHeight="7"
            refX="10"
            refY="3.5"
            orient="auto"
          >
            <polygon points="0 0, 10 3.5, 0 7" />
          </marker>
        </defs>

        <!-- States and State Labels-->
        
        <g class="state">
    <circle class="state-circle " cx="72.99630086313196" cy="184.42367601246107" r="40" id="WaitUntilRelease"></circle>
    <text class="state-label" x="72.99630086313196" y="184.42367601246107">WaitUntilRelease</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="763.5018495684342" cy="184.42367601246107" r="40" id="Idle"></circle>
    <text class="state-label" x="763.5018495684342" y="184.42367601246107">Idle</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="418.24907521578297" cy="358.87850467289724" r="40" id="GoingToBed"></circle>
    <text class="state-label" x="418.24907521578297" y="358.87850467289724">GoingToBed</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="211.0974106041924" cy="533.3333333333334" r="40" id="JustWokeUp"></circle>
    <text class="state-label" x="211.0974106041924" y="533.3333333333334">JustWokeUp</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="280.1479654747226" cy="707.7881619937694" r="40" id="PIT"></circle>
    <text class="state-label" x="280.1479654747226" y="707.7881619937694">PIT</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="556.3501849568435" cy="707.7881619937694" r="40" id="Reset"></circle>
    <text class="state-label" x="556.3501849568435" y="707.7881619937694">Reset</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="487.29963008631324" cy="533.3333333333334" r="40" id="Activation"></circle>
    <text class="state-label" x="487.29963008631324" y="533.3333333333334">Activation</text>
    </g>
        

        <!-- Transitions (arrows) -->
        ['<g class="transition">\n    <line class="transition-edge" x1="763.5018495684342" y1="184.42367601246107" x2="487.29963008631324" y2="533.3333333333334"></line>\n    <text class="condition-label" x="597.7805178791616" y="393.7694704049844">button_push_short</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="487.29963008631324" y1="533.3333333333334" x2="763.5018495684342" y2="184.42367601246107"></line>\n    <text class="condition-label" x="653.0209617755859" y="323.98753894081">button_released</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="487.29963008631324" y1="533.3333333333334" x2="556.3501849568435" y2="707.7881619937694"></line>\n    <text class="condition-label" x="528.7299630086313" y="638.0062305295951">button_push_long</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="556.3501849568435" y1="707.7881619937694" x2="763.5018495684342" y2="184.42367601246107"></line>\n    <text class="condition-label" x="680.6411837237979" y="393.7694704049844">button_released</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="763.5018495684342" y1="184.42367601246107" x2="418.24907521578297" y2="358.87850467289724"></line>\n    <text class="condition-label" x="556.3501849568435" y="289.09657320872276">tired</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="763.5018495684342" y1="184.42367601246107" x2="763.5018495684342" y2="184.42367601246107"></line>\n    <text class="condition-label" x="763.5018495684342" y="184.42367601246107">true</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="418.24907521578297" y1="358.87850467289724" x2="211.0974106041924" y2="533.3333333333334"></line>\n    <text class="condition-label" x="293.9580764488286" y="463.5514018691589">ISRs</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="211.0974106041924" y1="533.3333333333334" x2="72.99630086313196" y2="184.42367601246107"></line>\n    <text class="condition-label" x="128.23674475955613" y="323.98753894081">is_button_ISR</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="72.99630086313196" y1="184.42367601246107" x2="763.5018495684342" y2="184.42367601246107"></line>\n    <text class="condition-label" x="487.2996300863133" y="184.42367601246107">button_released</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="211.0974106041924" y1="533.3333333333334" x2="280.1479654747226" y2="707.7881619937694"></line>\n    <text class="condition-label" x="252.5277435265105" y="638.0062305295951">is_PIT_ISR</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="280.1479654747226" y1="707.7881619937694" x2="418.24907521578297" y2="358.87850467289724"></line>\n    <text class="condition-label" x="363.0086313193588" y="498.44236760124613">true</text>\n    </g>']
      </svg>
      </div>
        <h3>Serial Port Messages:</h3>
        <div id="message-windows"></div>
    </div>
   
  </body>
</html>
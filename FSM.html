<!DOCTYPE html>
<html>
  <head>
    <title>Serial Port Example</title>
    <style>

      svg {
        border: 1px solid black;
        width: 800px;
        height: 800px;
      }
      .transition:hover{
        stroke:green;
      }
      .state-circle {
        fill: lightblue;
        stroke: black;
        stroke-width: 2;
      }
      .state-label {
        font-family: Arial, sans-serif;
        font-size: 14px;
        text-anchor: middle;
      }
      .condition-label {
        font-family: Arial, sans-serif;
        font-size: 14px;
        text-anchor: middle;
      }
      .transition-edge {
        fill: none;
        stroke: black;
        stroke-width: 2px;
        marker-end: url(#arrowhead);
      }
      .is-inital{
        stroke:red;
      }
    </style>
  </head>
  <body>
    <button id="connectButton">Connect to Serial Port</button>
    <script src="software/tools/serial.js"></script>

    <div>
      <svg>
        <defs>
          <marker
            id="arrowhead"
            markerWidth="10"
            markerHeight="7"
            refX="10"
            refY="3.5"
            orient="auto"
          >
            <polygon points="0 0, 10 3.5, 0 7" />
          </marker>
        </defs>

        <!-- States and State Labels-->
        
        <g class="state">
    <circle class="state-circle " cx="81.35593220338981" cy="141.1764705882353" r="40" id="Idle"></circle>
    <text class="state-label" x="81.35593220338981" y="141.1764705882353">Idle</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="646.3276836158192" cy="337.2549019607843" r="40" id="GoingToBed"></circle>
    <text class="state-label" x="646.3276836158192" y="337.2549019607843">GoingToBed</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="759.3220338983051" cy="141.1764705882353" r="40" id="MissedActivation"></circle>
    <text class="state-label" x="759.3220338983051" y="141.1764705882353">MissedActivation</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="420.3389830508474" cy="729.4117647058822" r="40" id="Activation"></circle>
    <text class="state-label" x="420.3389830508474" y="729.4117647058822">Activation</text>
    </g>
        
        <g class="state">
    <circle class="state-circle " cx="533.3333333333334" cy="533.3333333333333" r="40" id="Reset"></circle>
    <text class="state-label" x="533.3333333333334" y="533.3333333333333">Reset</text>
    </g>
        

        <!-- Transitions (arrows) -->
        ['<g class="transition">\n    <line class="transition-edge" x1="81.35593220338981" y1="141.1764705882353" x2="420.3389830508474" y2="729.4117647058822"></line>\n    <text class="condition-label" x="284.74576271186436" y="494.1176470588235">button_push_short</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="420.3389830508474" y1="729.4117647058822" x2="81.35593220338981" y2="141.1764705882353"></line>\n    <text class="condition-label" x="216.94915254237284" y="376.47058823529403">button_released</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="420.3389830508474" y1="729.4117647058822" x2="533.3333333333334" y2="533.3333333333333"></line>\n    <text class="condition-label" x="488.13559322033893" y="611.7647058823528">button_push_long</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="533.3333333333334" y1="533.3333333333333" x2="81.35593220338981" y2="141.1764705882353"></line>\n    <text class="condition-label" x="262.14689265536725" y="298.0392156862745">button_released</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="81.35593220338981" y1="141.1764705882353" x2="759.3220338983051" y2="141.1764705882353"></line>\n    <text class="condition-label" x="488.13559322033893" y="141.1764705882353">activation_missed</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="759.3220338983051" y1="141.1764705882353" x2="646.3276836158192" y2="337.2549019607843"></line>\n    <text class="condition-label" x="691.5254237288136" y="258.8235294117647">true</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="81.35593220338981" y1="141.1764705882353" x2="646.3276836158192" y2="337.2549019607843"></line>\n    <text class="condition-label" x="420.3389830508474" y="258.8235294117647">tired</text>\n    </g>', '<g class="transition">\n    <line class="transition-edge" x1="81.35593220338981" y1="141.1764705882353" x2="81.35593220338981" y2="141.1764705882353"></line>\n    <text class="condition-label" x="81.35593220338981" y="141.1764705882353">true</text>\n    </g>']
      </svg>
    </div>
  </body>
</html>